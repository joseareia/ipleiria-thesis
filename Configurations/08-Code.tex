%%% Code highlighting %%%
\usepackage[newfloat]{minted}
\newenvironment{code}{\captionsetup{type=listing}}{}
\ifthenelse{\equal{\getLanguage}{portuguese}}{%
    \SetupFloatingEnvironment{listing}{name=Listagem}
}{%
    \SetupFloatingEnvironment{listing}{name=Listing}
}
\captionsetup[listing]{skip=-7pt}

\newenvironment{longlisting}{\captionsetup{type=listing}}

% Defining a new - and better - minted style.
\setminted{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    fontsize=\footnotesize,
    linenos,
    tabsize=4,
    breaklines=true,
    breakanywhere=true
}

% Change the color of the line numbers to gray. The "Frade's" suggestion!
\renewcommand{\theFancyVerbLine}{\scriptsize\textcolor[rgb]{0.7,0.7,0.7}{\arabic{FancyVerbLine}}}